# ฺฏุฒุงุฑุด ูพุฑูฺู: ุญู ุณูุฏูฺฉู ถรถ ูุงูุชูุงุฑู ุจุง ุฑูุดโูุง ุงุฑุถุง ูุญุฏูุฏุช

## ฑ. ุฎูุงุตู ู ูุนุฑู
ุฏุฑ ุงู ุชฺฉููุ ูุณุฆูู ุณูุฏูฺฉู ถรถ ุจุง ููุงุญ ูุงูุชูุงุฑู (ุฌูุฑฺู) ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูุดโูุง ยซูุณุฆูู ุงุฑุถุง ูุญุฏูุฏุชยป (CSP) ูุฏูโุณุงุฒ ู ุญู ฺฉุฑุฏู. ูุฏู ุงุตู ูพุฑูฺูุ ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชูโูุง ุฌุณุชุฌู ุดุงูู ุนูุจโฺฏุฑุฏ (Backtracking)ุ ุงูุชุฎุงุจ ููุดููุฏุงูู ูุชุบุฑ (MRV)ุ ูุฑุชุจโุณุงุฒ ููุงุฏุฑ (LCV)ุ ุจุฑุฑุณ ุฑูุจูโุฌูู (Forward Checking) ู ุณุงุฒฺฏุงุฑ ฺฉูุงูโูุง (AC-3) ุงุณุช.

ุจุฑุง ุฏุฑฺฉ ุจูุชุฑ ูุญูู ฺฉุงุฑฺฉุฑุฏ ุงู ุงูฺฏูุฑุชูโูุง ู ูุดุงูุฏู ุฑูุชุงุฑ ุขูโูุง ุฏุฑ ุฒูุงู ุงุฌุฑุงุ ูพุฑูฺู ุฑุง ุจู ุฌุง ฺฉ ุงุณฺฉุฑูพุช ุณุงุฏู ูุชูุ ุจู ุตูุฑุช ฺฉ ุจุฑูุงูู ฺฏุฑุงูฺฉ ุชุญุช ูุจ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู ุฑโุงฺฉุช (React) ููุดุชู. ุงู ุฑูฺฉุฑุฏ ุงุฌุงุฒู ูโุฏูุฏ ุชุง ูุฑุงุญู ุฌุณุชุฌูุ ูพุฑ ุดุฏู ุฎุงููโูุง ู ุจุงุฒฺฏุดุชโูุง ุฑุง ุจู ุตูุฑุช ุฒูุฏู ุจุจูู ู ุขูุงุฑ ุฏูู (ุชุนุฏุงุฏ ฺฏุฑูโูุง ู ุจุงุฒฺฏุดุชโูุง) ุฑุง ุฏุฑ ูุญุธู ูุดุงูุฏู ฺฉูู.

**ููฺฉโูุง ูพุฑูฺู:**
ฺฉุฏ ููุจุน ู ูุงูโูุง ูพุฑูฺู ุฏุฑ ูุฎุฒู ุฒุฑ ูุงุจู ุฏุณุชุฑุณ ุงุณุช:
*   [ฺฏุชโูุงุจ ูพุฑูฺู (Source Code)](https://github.com/Amkhodaei83/csp-sudoku-visualizer)

ุจุฑุง ูุดุงูุฏู ู ุชุณุช ุนููฺฉุฑุฏ ุจุฑูุงูู ุจุฏูู ูุงุฒ ุจู ูุตุจุ ูโุชูุงูุฏ ุงุฒ ููฺฉ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
*   [ุงุฌุฑุง ุขููุงู (Live Demo)](https://amkhodaei83.github.io/csp-sudoku-visualizer)

| **Jigsaw 6x6 Mode** | **Standard 9x9 Mode** |
|:---:|:---:|
| <img src="./jigsaw-mode.png" alt="Jigsaw Mode" width="100%"> | <img src="./standard-mode.png" alt="Standard Mode" width="100%"> |



## ฒ. ูุฏูโุณุงุฒ ูุณุฆูู (ุชุนุฑู CSP)

ุจุฑุง ุงูฺฉู ฺฉุงููพูุชุฑ ุจุชูุงูุฏ ุณูุฏูฺฉู ุฑุง ุญู ฺฉูุฏุ ุงุจุชุฏุง ูุณุฆูู ุฑุง ุจู ูุฑู ุงุณุชุงูุฏุงุฑุฏ CSP (ูุณุฆูู ุงุฑุถุง ูุญุฏูุฏุช) ุชุจุฏู ฺฉุฑุฏู. ุฏุฑ ุงู ูุฏูุ ุณู ุฌุฒุก ุงุตู ุฏุงุฑู: ูุชุบุฑูุงุ ุฏุงูููโูุง ู ูุญุฏูุฏุชโูุง.

### ฒ.ฑ. ูุชุบุฑูุง (Variables)
ุฏุฑ ฺฉ ุฌุฏูู ถรถุ ุฏููุงู ณถ ุฎุงูู ุฏุงุฑู. ูุฑ ุฎุงูู ุฑุง ุจู ุนููุงู ฺฉ ูุชุบุฑ $X$ ุฏุฑ ูุธุฑ ฺฏุฑูุชู.
*   **ุชุนุฏุงุฏ ูุชุบุฑูุง:** ณถ ุนุฏุฏ ($X_0$ ุชุง $X_{35}$)
*   **ููุงุด:** ูุฑ ูุชุบุฑ ุจุง ูุฎุชุตุงุช (ุณุทุฑุ ุณุชูู) ูุดุฎุต ูโุดูุฏ. ูุซูุงู ูุชุบุฑ ุณุทุฑ ุงูู ู ุณุชูู ุงูู ุจุฑุงุจุฑ ุงุณุช ุจุง $R1C1$.

### ฒ.ฒ. ุฏุงูููโูุง (Domains)
ุฏุงูููุ ุดุงูู ููุงุฏุฑ ูุฌุงุฒ ุงุณุช ฺฉู ูโุชูุงูู ุฏุฑ ูุฑ ุฎุงูู ูุฑุงุฑ ุฏูู.
*   ุจุฑุง ุฎุงููโูุง ุฎุงูุ ุฏุงููู ุงููู ุจุฑุงุจุฑ ุงุณุช ุจุง: $\{1, 2, 3, 4, 5, 6\}$
*   ุจุฑุง ุฎุงููโูุง ฺฉู ุงุฒ ุงุจุชุฏุง ููุฏุงุฑ ุฏุงุฑูุฏ (ุฎุงููโูุง ุซุงุจุช)ุ ุฏุงููู ููุท ุดุงูู ููุงู ุนุฏุฏ ุงุณุช (ูุซูุงู $\{3\}$).

### ฒ.ณ. ูุญุฏูุฏุชโูุง (Constraints)
ููุงูู ุจุงุฒ ุชุนู ูโฺฉููุฏ ฺฉู ฺู ุงุนุฏุงุฏ ููโุชูุงููุฏ ฺฉูุงุฑ ูู ูุฑุงุฑ ุจฺฏุฑูุฏ. ุฏุฑ ุงู ูพุฑูฺู ุฏู ุฏุณุชู ูุญุฏูุฏุช ุฏุงุฑู:

**ุงูู) ูุญุฏูุฏุชโูุง ุณุทุฑ ู ุณุชูู (ุฏูุฏู):**
ูุฑ ูุชุบุฑ ุจุง ุชูุงู ูุชุบุฑูุง ููโุณุทุฑ ู ููโุณุชูู ุฎูุฏ ุฑุงุจุทู ุฏุงุฑุฏ ู ูุจุงุฏ ููุฏุงุฑ ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏ.
*   ูุญุฏูุฏุช ุณุทุฑูุง (All-Diff Row)
*   ูุญุฏูุฏุช ุณุชููโูุง (All-Diff Column)

**ุจ) ูุญุฏูุฏุชโูุง ููุงุญ ูุงูุชูุงุฑู (Jigsaw Constraints):**
ุชูุงูุช ุงุตู ุงู ูพุฑูฺู ุจุง ุณูุฏูฺฉู ูุนููู ุฏุฑ ููู ุจุฎุด ุงุณุช. ุจู ุฌุง ูุฑุจุนโูุง ณรฒุ ุฌุฏูู ุจู ถ ูุงุญู ูุงูุชูุงุฑู ุง ูุชูุงุฑู ุชูุณู ุดุฏู ุงุณุช ฺฉู ุจู ุตูุฑุช ุฑูุฏูู ุณุงุฎุชู ูุดููุฏ.

ุฏุฑ ูพุงุฏูโุณุงุฒุ ูู ฺฉ ฺฏุฑุงู ููุณุงฺฏ (Constraint Graph) ุณุงุฎุชู. ูุฑ ูุชุบุฑ ุจุง ุชูุงู ูุชุบุฑูุง ฺฉู ุฏุฑ ุณุทุฑุ ุณุชูู ุง ูุงุญู ุฎูุฏุด ูุณุชูุฏุ ยซููุณุงูยป ูโุดูุฏ ู ููฺฏุงู ููุฏุงุฑุฏูุ ููุท ฺฉุงูุณุช ููุณุงูโูุง ุขู ูุชุบุฑ ุฑุง ฺฺฉ ฺฉูู.

```mermaid
graph TD
    X[ูุชุบุฑ X] -->|ูุญุฏูุฏุช| Row[ููโุณุทุฑูุง]
    X -->|ูุญุฏูุฏุช| Col[ููโุณุชููโูุง]
    X -->|ูุญุฏูุฏุช| Reg[ููโูุงุญูโุงโูุง]
    style X fill:#f9f,stroke:#333,stroke-width:2px
```

### ฒ.ด. ุชูุณุนู ุงุฎุชุงุฑ: ุญุงูุช ูพุดุฑูุชู (ุณูุฏูฺฉู ุงุณุชุงูุฏุงุฑุฏ นรน)
ุนูุงูู ุจุฑ ุฎูุงุณุชู ุงุตู ูพุฑูฺู (ุณูุฏูฺฉู ถรถ)ุ ูู ููุชูุฑ ุญูโฺฉููุฏู (CSP Engine) ุฑุง ุจู ฺฏูููโุง ุทุฑุงุญ ฺฉุฑุฏู ฺฉู "ุนููู" (Generic) ุจุงุดุฏ. ุจู ุนููุงู ฺฉ ูฺฺฏ ุงูุชุงุฒุ ูุงุจูุช ุญู **ุณูุฏูฺฉู ฺฉูุงุณฺฉ นรน** ุฑุง ูุฒ ุจู ุจุฑูุงูู ุงุถุงูู ฺฉุฑุฏู.

ุชูุงูุช ุงุตู ุฏุฑ ูุฏูโุณุงุฒ ุงู ุจุฎุด ุนุจุงุฑุช ุงุณุช ุงุฒ:
*   **ุชุนุฏุงุฏ ูุชุบุฑูุง:** ธฑ ูุชุบุฑ (ุฏุฑ ููุงุจู ณถ ูุชุบุฑ ุญุงูุช ูุจู).
*   **ุฏุงูููโูุง:** ุงุนุฏุงุฏ ฑ ุชุง น.
*   **ูุญุฏูุฏุชโูุง:** ุนูุงูู ุจุฑ ุณุทุฑ ู ุณุชููุ ูุญุฏูุฏุช ููุงุญ ุจู ุตูุฑุช **ูุฑุจุนโูุง ุงุณุชุงูุฏุงุฑุฏ ณรณ** ุชุนุฑู ุดุฏู ุงุณุช.

ุงู ุจุฎุด ูุดุงู ูโุฏูุฏ ฺฉู ุงูฺฏูุฑุชูโูุง ูพุงุฏูโุณุงุฒ ุดุฏู (MRV ู Forward Checking) ูู ุชููุง ุฑู ถรถุ ุจูฺฉู ุฑู ูุถุง ุญุงูุช ุจุณุงุฑ ุจุฒุฑฺฏุชุฑ (นรน) ูุฒ ุจุง ฺฉุงุฑุง ุจุงูุง ุนูู ูโฺฉููุฏ. ุดูุง ูโุชูุงูุฏ ุฏุฑ ุตูุญู `AdvancedPage` ุงู ูุงุจูุช ุฑุง ูุดุงูุฏู ฺฉูุฏ.

## ณ. ุฑุงุจุท ฺฉุงุฑุจุฑ ู ูุดุงูุฏู ูุฑุขูุฏ ุญู

ุจุฑุง ุงูฺฉู ุจุชูุงูู ุฑูุชุงุฑ ุงูฺฏูุฑุชูโูุง ุฑุง ุฏูู ุจุฑุฑุณ ฺฉููุ ฺฉ ูุญุท ฺฏุฑุงูฺฉ ุทุฑุงุญ ฺฉุฑุฏู. ุฏุฑ ุชุตูุฑ ฺฉู ุงุฒ ุจุฑูุงูู ูุดุงูุฏู ูโฺฉูุฏุ ุจุฎุดโูุง ูุฎุชูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุฑ ฺฉุฏุงู ูุธูู ุฎุงุต ุฏุงุฑูุฏ:

### ณ.ฑ. ูพูู ุชููุฏ ูพุงุฒู (Generator Panel)
ุฏุฑ ุจุงูุง ุตูุญู (ฺฉุงุฏุฑ ุจููุด ุชุฑู)ุ ฺฉูุชุฑูโูุง ูุฑุจูุท ุจู ุณุงุฎุช ูุณุฆูู ูุฑุงุฑ ุฏุงุฑุฏ:
*   **ููุงุฑ ุณุฎุช (Difficulty Slider):** ุงู ููุงุฑ ูุบุฒูุฏู ฺฉู ุฑู ตฐูช ุชูุธู ุดุฏูุ ุชุนู ูโฺฉูุฏ ฺู ุชุนุฏุงุฏ ุงุฒ ุฎุงููโูุง ุฌุฏูู ุฎุงู ุจุงุดูุฏ. ูุฑ ฺู ุฏุฑุตุฏ ุจุงูุงุชุฑ ุจุงุดุฏุ ุฎุงููโูุง ุฎุงู ุจุดุชุฑ ู ุญู ูุณุฆูู ุณุฎุชโุชุฑ ูโุดูุฏ.
*   **ุฏฺฉูู ุชููุฏ ุฌุฏุฏ (Generate New):** ุจุง ุฒุฏู ุงู ุฏฺฉููุ ุงูฺฏูุฑุชู ุชููุฏฺฉููุฏู ุงุฌุฑุง ุดุฏู ู ฺฉ ุฌุฏูู ูุนุชุจุฑ ุฌุฏุฏ ูโุณุงุฒุฏ.
*   **ุดูุงุฑูุฏูโูุง ุขูุงุฑ (Metrics):** ุฏุฑ ุณูุช ุฑุงุณุช ุจุงูุงุ ุฏู ุนุฏุฏ ููู ููุงุด ุฏุงุฏู ูโุดูุฏ:
    *   **Nodes:** ุชุนุฏุงุฏ ฺฉู ฺฏุฑูโูุง ฺฉู ุงูฺฏูุฑุชู ุชุงฺฉููู ุจุฑุฑุณ ฺฉุฑุฏู ุงุณุช (Expands).
    *   **Backtracks:** ุชุนุฏุงุฏ ุฏูุนุงุช ฺฉู ุงูฺฏูุฑุชู ุจู ุจูโุจุณุช ุฎูุฑุฏู ู ูุฌุจูุฑ ุจู ุนูุจโฺฏุฑุฏ ุดุฏู ุงุณุช. ุงู ุนุฏุฏ ูุนุงุฑ ุงุตู ุจุฑุง ููุงุณู ฺฉุงุฑุง ุฑูุดโูุงุณุช.

### ณ.ฒ. ูพูู ุชูุธูุงุช ุงูฺฏูุฑุชู (Configuration)
ุฏุฑ ฺฉุงุฏุฑ ูพุงูุ ูโุชูุงูู ููุด ูุตููุน ุฑุง ูุจู ุง ุญู ุญู ูุณุฆูู ุชูุธู ฺฉูู:
*   **ุชฺฉโูุง ุงูุชุฎุงุจ ุฑูุด (Checkboxes):**
    *   **MRV:** ุงฺฏุฑ ูุนุงู ุจุงุดุฏุ ุงูฺฏูุฑุชู ุงุจุชุฏุง ุณุฑุงุบ ุฎุงููโุง ูโุฑูุฏ ฺฉู ฺฉูุชุฑู ฺฏุฒูู ููฺฉู ุฑุง ุฏุงุฑุฏ (ุงูุชุฎุงุจ ููุดููุฏ ูุชุบุฑ).
    *   **LCV:** ุงฺฏุฑ ูุนุงู ุจุงุดุฏุ ููุงุฏุฑ ุฑุง ุทูุฑ ูุฑุชุจ ูโฺฉูุฏ ฺฉู ฺฉูุชุฑู ูุญุฏูุฏุช ุจุฑุง ููุณุงูโูุง ุงุฌุงุฏ ุดูุฏ (ุงูุชุฎุงุจ ููุดููุฏ ููุฏุงุฑ).
    *   **Forward Check:** ุจุง ูุนุงู ฺฉุฑุฏู ุงู ฺฏุฒููุ ูพุณ ุงุฒ ูุฑ ุงูุชุฎุงุจุ ุฏุงููู ููุณุงูโูุง ุจุฑุฑุณ ู ูุฑุณ ูโุดูุฏ ุชุง ุงุฒ ุจูโุจุณุชโูุง ุฒูุฏุฑุณ ุฌููฺฏุฑ ุดูุฏ.
*   **ุฏฺฉูู Run AC-3:** ุงู ุฏฺฉูู ุงูฺฏูุฑุชู ุณุงุฒฺฏุงุฑ ฺฉูุงู (Arc Consistency) ุฑุง ุจู ุตูุฑุช ูุฌุฒุง ุงุฌุฑุง ูโฺฉูุฏ. ุจุง ุฒุฏู ุขูุ ูุจู ุงุฒ ุดุฑูุน ุฌุณุชุฌูุ ุฏุงูููโูุง ูุงุณุงุฒฺฏุงุฑ ุญุฐู ูโุดููุฏ ฺฉู ุชุงุซุฑ ุฒุงุฏ ุฏุฑ ุณุงุฏูโุณุงุฒ ุญู ุฏุงุฑุฏ.

### ณ.ณ. ฺฉูุชุฑูโูุง ุงุฌุฑุง (Playback Controls)
ูพุงูโุชุฑู ุจุฎุด ุจุฑุง ฺฉูุชุฑู ุฒูุงู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู ุงุณุช:
*   **ุฏฺฉููโูุง ูพุฎุด:** ุฏฺฉูู ูุณุท (Play/Pause) ูุฑุขูุฏ ุญู ุฑุง ุดุฑูุน ุง ูุชููู ูโฺฉูุฏ. ุฏฺฉููโูุง ฺูพ ู ุฑุงุณุช (Step) ุงุฌุงุฒู ูโุฏููุฏ ุงูฺฏูุฑุชู ุฑุง ูุฑุญูู ุจู ูุฑุญูู (Frame by Frame) ุฌูู ุง ุนูุจ ุจุจุฑู ุชุง ุฏููุงู ุจูููู ุฏุฑ ูุฑ ูุญุธู ฺู ุงุชูุงู ูโุงูุชุฏ.
*   **ุฏฺฉูู ุจุงุฒูุดุงู (Reset):** (ุณูุช ฺูพุ ูุฑูุฒ ุฑูฺฏ) ฺฉู ุฌุฏูู ู ุฏุงูููโูุง ุฑุง ุจู ุญุงูุช ุงููู ุจุฑูโฺฏุฑุฏุงูุฏ.
*   **ุณุฑุนุช (Speed):** ุณุฑุนุช ุงููุดู ุญู ุฑุง ุชุนู ูโฺฉูุฏ ุชุง ุจุชูุงูู ูุฑุขูุฏ ุฑุง ุณุฑุนโุชุฑ ุง ุฏููโุชุฑ ุจุจูู.

## ด. ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชูโูุง ู ููุทู ุจุฑูุงูู

ุฏุฑ ุงู ุจุฎุด ุชูุถุญ ูโุฏูู ฺฉู ูุฑ ูุณูุช ุงุฒ ูพุฑูฺู ฺุทูุฑ ฺฉุฏููุณ ุดุฏู ุงุณุช. ุชูุงู ููุทูโูุง ููุด ูุตููุน ุฏุฑ ูพูุดู `src/algorithms` ูุฑุงุฑ ุฏุงุฑูุฏ ุชุง ุงุฒ ฺฉุฏูุง ุฑุงุจุท ฺฉุงุฑุจุฑ ุฌุฏุง ุจุงุดูุฏ.

### ด.ฑ. ุชููุฏ ูพุงุฒู (Puzzle Generation)
**ููููู:** ุจุฑุง ุงูฺฉู ุจุชูุงูู ุงูฺฏูุฑุชู ุฑุง ุชุณุช ฺฉููุ ูุงุฒ ุจู ูพุงุฒูโูุง ูุนุชุจุฑ ุฏุงุดุชู. ุชููุฏ ุชุตุงุฏู ุงุนุฏุงุฏ ูุนูููุงู ุจู ุจูโุจุณุช ูโุฎูุฑุฏุ ูพุณ ุงุฒ ุฑูุด ูุนฺฉูุณ ุงุณุชูุงุฏู ฺฉุฑุฏู.
**ููุทู ฺฉุฏ:**
ฑ. ุงุจุชุฏุง ฺฉ ุฌุฏูู ุฎุงู ุงุฌุงุฏ ูโฺฉูู.
ฒ. ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุชุงุจุน ุจุงุฒฺฏุดุช (ูุดุงุจู ุญูโฺฉููุฏู)ุ ุฌุฏูู ุฑุง ฺฉุงููุงู ูพุฑ ูโฺฉูู ุชุง ฺฉ ุญุงูุช "ุจุฑูุฏู" ุณุงุฎุชู ุดูุฏ.
ณ. ุณูพุณ ุจุฑ ุงุณุงุณ "ุฏุฑุตุฏ ุณุฎุช"ุ ุชุนุฏุงุฏ ุงุฒ ุฎุงููโูุง ุฑุง ุจู ุตูุฑุช ุชุตุงุฏู ูพุงฺฉ (ุตูุฑ) ูโฺฉูู ุชุง ุชุจุฏู ุจู ูุนูุง ุดูุฏ.

**ูพุดโููุงุด ฺฉุฏ (`JigsawGenerator.js`):**
```javascript
export const generateJigsawPuzzle = (mapArray, difficulty = 0.5) => {
    // 1. Create Empty Board & Fill it with a valid solution
    let solvedBoard = new Array(36).fill(0);
    fillBoard(solvedBoard, mapArray);

    // 2. Remove numbers based on difficulty
    let puzzle = [...solvedBoard];
    const cellsToRemove = Math.floor(10 + (difficulty * 15)); 
    
    for(let i=0; i<cellsToRemove; i++) {
        let idx = Math.floor(Math.random() * 36);
        puzzle[idx] = 0; // Dig a hole
    }
    return puzzle;
};
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/JigsawGenerator.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/JigsawGenerator.js)

---

### ด.ฒ. ฺฉูุงุณ CSP ู ฺฏุฑุงู ูุญุฏูุฏุช (Board Logic)
**ููููู:** ูุจู ุงุฒ ุญูุ ุจุงุฏ ูุณุฆูู ุฑุง ุชุนุฑู ฺฉูู. ฺฉูุงุณ CSP ูุณุฆูู ูฺฏูุฏุงุฑ ูุถุนุช ุจุฑุฏุ ุฏุงูููโูุง ู ุงุฒ ููู ูููโุชุฑ "ููุณุงูโูุง" ุงุณุช.
**ููุทู ฺฉุฏ:**
ุฏุฑ ูุชุฏ `_buildConstraintGraph`ุ ุจุฑุง ูุฑ ุฎุงูู ณถ ุจุงุฑ ุญููู ูโุฒูู ู ฺฺฉ ูโฺฉูู ุขุง ุฎุงูู ุฏฺฏุฑ ุฏุฑ ููุงู ุณุทุฑุ ุณุชูู ุง ูุงุญู (Region) ูุณุช ุง ูู. ุงฺฏุฑ ุจูุฏุ ุขู ุฑุง ุจู ูุณุช ููุณุงูโูุง ุขู ุฎุงูู ุงุถุงูู ูโฺฉูู. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุฏุฑ ุฒูุงู ุฌุณุชุฌูุ ุฏุณุชุฑุณ ุจู ูุญุฏูุฏุชโูุง ุจุณุงุฑ ุณุฑุน (O(1)) ุจุงุดุฏ.

**ูพุดโููุงุด ฺฉุฏ (`CSP.js`):**
```javascript
_buildConstraintGraph() {
    for (let i = 0; i < this.totalCells; i++) {
        const myNeighbors = new Set();
        // ... logic to find row, col, region ...
        if (isRow || isCol || isRegion) {
            myNeighbors.add(j);
        }
        this.neighbors[i] = Array.from(myNeighbors);
    }
}
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/CSP.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/CSP.js)

---

### ด.ณ. ุฌุณุชุฌู ุนูุจโฺฏุฑุฏ (Backtracking Search)
**ููููู:** ุงู ููุชูุฑ ุงุตู ุญู ูุณุฆูู ุงุณุช. ุงุฒ ุฑูุด ุฌุณุชุฌู ุนููโุงูู (DFS) ุงุณุชูุงุฏู ูโฺฉูุฏ.
**ููุทู ฺฉุฏ:**
ูู ุงุฒ `function*` (Generator) ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงู ูฺฺฏ ุงุฌุงุฒู ูโุฏูุฏ ุชุงุจุน ุฑุง ูุณุท ุงุฌุฑุง ูุชููู (pause) ฺฉูู ู ูุถุนุช ูุนู ุฑุง ุจู ุฑุงุจุท ฺฉุงุฑุจุฑ ุจูุฑุณุชู (`yield`) ุชุง ฺฉุงุฑุจุฑ ุจุจูุฏ ฺู ุงุชูุงู ุงูุชุงุฏูุ ู ุณูพุณ ุฏูุจุงุฑู ุงุฏุงูู ุฏูู.
ุงฺฏุฑ ุจู ุจูโุจุณุช ุจุฎูุฑูุ ููุฏุงุฑ ุฎุงูู ุฑุง ุตูุฑ ูโฺฉูู (Backtrack) ู ุนุฏุฏ ุจุนุฏ ุฑุง ุงูุชุญุงู ูโฺฉูู.

**ูพุดโููุงุด ฺฉุฏ (`Solver.js`):**
```javascript
function* backtrack(depth = 0) {
    // Base Case: Is board full?
    if (csp.board.every(cell => cell !== 0)) return true;

    const varIndex = selectNextVariable(csp, options); // Select Var
    const sortedValues = orderDomainValues(csp, varIndex, options); // Order Values

    for (const value of sortedValues) {
        if (csp.isConsistent(varIndex, value)) {
            csp.board[varIndex] = value; // Assign
            yield { type: 'STEP', ... }; // Visualize assignment

            if (yield* backtrack(depth + 1)) return true; // Recurse

            csp.board[varIndex] = 0; // Backtrack (Undo)
            yield { type: 'BACKTRACK', ... }; // Visualize undo
        }
    }
    return false;
}
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/Solver.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/Solver.js)

---

### ด.ด. ุงูุชุฎุงุจ ูุชุบุฑ MRV (Minimum Remaining Values)
**ููููู:** ุจู ุฌุง ุงูุชุฎุงุจ ุงููู ุฎุงูู ุฎุงูุ ุฎุงููโุง ุฑุง ุงูุชุฎุงุจ ูโฺฉูู ฺฉู ฺฉูุชุฑู ฺฏุฒูู (ฺฉูฺฺฉุชุฑู ุฏุงููู) ุฑุง ุฏุงุฑุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุงฺฏุฑ ูุฑุงุฑ ุงุณุช ุจู ุจูโุจุณุช ุจุฎูุฑูุ ุฎู ุฒูุฏุชุฑ ุงู ุงุชูุงู ุจูุชุฏ (Fail-First).
**ููุทู ฺฉุฏ:**
ุจู ุชูุงู ุฎุงููโูุง ุฎุงู ูโฺฏุฑุฏู ู ุทูู ุขุฑุงู `domain` ุขูโูุง ุฑุง ฺฺฉ ูโฺฉูู. ุงูุฏุณ ุฎุงููโุง ฺฉู ฺฉูุชุฑู ุทูู ุฑุง ุฏุงุฑุฏ ุจุฑูโฺฏุฑุฏุงูู.

**ูพุดโููุงุด ฺฉุฏ (`Heuristics.js`):**
```javascript
export const selectNextVariable = (csp, strategy) => {
    if (strategy === 'MRV') {
        let bestVar = -1;
        let minSize = Infinity;
        for (let i = 0; i < csp.totalCells; i++) {
            if (csp.board[i] === 0 && csp.domains[i].length < minSize) {
                minSize = csp.domains[i].length;
                bestVar = i;
            }
        }
        return bestVar;
    }
    // ... default to FIRST_EMPTY
};
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/Heuristics.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/Heuristics.js)

---

### ด.ต. ุงูุชุฎุงุจ ููุฏุงุฑ LCV (Least Constraining Value)
**ููููู:** ููุช ูโุฎูุงูู ุนุฏุฏ ุฑุง ุฏุฑ ุฎุงูู ุจฺฏุฐุงุฑูุ ุนุฏุฏ ุฑุง ุงูู ุชุณุช ูโฺฉูู ฺฉู ุฏุณุช ููุณุงูโูุง ุฑุง ฺฉูุชุฑ ุจุจูุฏุฏ (Fail-Last).
**ููุทู ฺฉุฏ:**
ุจุฑุง ูุฑ ุนุฏุฏ ููฺฉู ุฏุฑ ุฏุงูููุ ูโุดูุงุฑู ฺฉู ุงฺฏุฑ ุงู ุนุฏุฏ ุฑุง ุงูุชุฎุงุจ ฺฉููุ ฺูุฏ ุชุง ุงุฒ ฺฏุฒููโูุง ููุณุงูโูุง ุญุฐู ูโุดูุฏ. ุณูพุณ ุงุนุฏุงุฏ ุฑุง ุจุฑ ุงุณุงุณ ุงู "ุชุนุฏุงุฏ ุญุฐู" ุจู ุตูุฑุช ุตุนูุฏ ูุฑุชุจ ูโฺฉูู.

**ูพุดโููุงุด ฺฉุฏ (`Heuristics.js`):**
```javascript
export const orderDomainValues = (csp, varIndex, strategy) => {
    const values = [...csp.domains[varIndex]];
    if (strategy === 'LCV') {
        return values.sort((valA, valB) => {
            // Count how many neighbors lose an option for valA vs valB
            return countConstraints(csp, varIndex, valA) - countConstraints(csp, varIndex, valB); 
        });
    }
    return values; // Default: Ascending (1, 2, 3...)
};
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/Heuristics.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/Heuristics.js)

---

### ด.ถ. ุจุฑุฑุณ ุฑูโุจูโุฌูู (Forward Checking)
**ููููู:** ููุช ุนุฏุฏ ุฑุง ุฏุฑ ุฎุงููโุง ูุฑุงุฑ ูโุฏููุ ุจูุงูุงุตูู ุขู ุนุฏุฏ ุฑุง ุงุฒ ุฏุงููู ุชูุงู ููุณุงูโูุง ุญุฐู ูโฺฉูู. ุงฺฏุฑ ุฏุงููู ููุณุงูโุง ุฎุงู ุดุฏุ ุนู ุงู ูุณุฑ ุบูุท ุงุณุช ู ููุฑุงู ุนูุจโฺฏุฑุฏ ูโฺฉูู.
**ููุทู ฺฉุฏ:**
ูุชุฏ `pruneNeighbors` ููุงุฏุฑ ูุงุณุงุฒฺฏุงุฑ ุฑุง ุงุฒ ุฏุงูููโูุง ุญุฐู ูโฺฉูุฏ ู ูุณุช ุญุฐูุงุช ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุงฺฏุฑ ุฌุณุชุฌู ุดฺฉุณุช ุฎูุฑุฏุ ุจุง ูุชุฏ `restorePruned` ุฏุงูููโูุง ุฑุง ุจู ุญุงูุช ูุจู ุจุฑูโฺฏุฑุฏุงูู.

**ูพุดโููุงุด ฺฉุฏ (`CSP.js`):**
```javascript
pruneNeighbors(varIndex, value) {
    const pruned = {}; 
    for (const neighbor of this.neighbors[varIndex]) {
        if (domain.includes(value)) {
            // Remove value from neighbor's domain
            this.domains[neighbor] = domain.filter(v => v !== value);
            // Save for restoration later
            pruned[neighbor].push(value); 
            
            if (this.domains[neighbor].length === 0) return { success: false, pruned };
        }
    }
    return { success: true, pruned };
}
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/CSP.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/CSP.js)

---

### ด.ท. ุณุงุฒฺฏุงุฑ ฺฉูุงู (Run AC-3)
**ููููู:** ุงู ุงูฺฏูุฑุชู ูุจู ุงุฒ ุดุฑูุน ุฌุณุชุฌู ุงุฌุฑุง ูโุดูุฏ ุชุง ุฏุงูููโูุง ุฑุง ูพุงฺฉโุณุงุฒ ฺฉูุฏ.
**ููุทู ฺฉุฏ:**
ฺฉ ุตู ุงุฒ ุชูุงู ฺฉูุงูโูุง (ุฌูุช ููุณุงูโูุง) ูโุณุงุฒู. ูุฑ ุจุงุฑ ฺฺฉ ูโฺฉูู ุขุง ููุฏุงุฑ ุฏุฑ $X_i$ ูุณุช ฺฉู ูฺ ูุนุงุฏู ุฏุฑ $X_j$ ูุฏุงุดุชู ุจุงุดุฏุ ุงฺฏุฑ ุจูุฏุ ุญุฐูุด ูโฺฉูู ู ููุณุงูโูุง $X_i$ ุฑุง ุฏูุจุงุฑู ุจู ุตู ุงุถุงูู ูโฺฉูู ฺูู ููฺฉู ุงุณุช ูุญุฏูุฏุช ุฌุฏุฏ ุงุฌุงุฏ ุดุฏู ุจุงุดุฏ.

**ูพุดโููุงุด ฺฉุฏ (`AC3.js`):**
```javascript
export function* ac3Generator(csp) {
    let queue = [/* All Arcs */];
    while (queue.length > 0) {
        const [xi, xj] = queue.shift();
        if (revise(csp, xi, xj)) {
            if (csp.domains[xi].length === 0) return false; // Impossible puzzle
            // Add neighbors back to queue
            yield { type: 'AC3_PRUNE', activeCell: xi };
        }
    }
}
```
๐ [ูุดุงูุฏู ูุงู ฺฉุงูู: src/algorithms/AC3.js](https://github.com/Amkhodaei83/csp-sudoku-visualizer/blob/main/src/algorithms/AC3.js)

## ต. ุชุญูู ฺฉุงุฑุง ุงูฺฏูุฑุชูโูุง

ุฏุฑ ุงู ูพุฑูฺูุ ฺูู ุงูฺฉุงู ูุดุงูุฏู ุฒูุฏู ุฑููุฏ ุญู ูุฌูุฏ ุฏุงุดุชุ ุชูุงูุณุชู ุชุงุซุฑ ูุฑ ุงูฺฏูุฑุชู ุฑุง ุจู ูุถูุญ ุจุจูู. ูุฑฺูุฏ ุฏุงุฏูโูุง ุฏูู ุนุฏุฏ ุจู ุณุฎุชโุงูุฒุงุฑ ู ูุฑูุฑฺฏุฑ ุจุณุชฺฏ ุฏุงุฑุฏุ ุงูุง ูุชุงุฌ ฺฉู ุฒุฑ ฺฉุงููุงู ูุดููุฏ ุจูุฏ:

**ฑ. ุชุงุซุฑ MRV (ุงูุชุฎุงุจ ูุชุบุฑ):**
ุจุฏูู MRVุ ุงูฺฏูุฑุชู ุจู ุตูุฑุช ุฎุท (ุณุทุฑ ุจู ุณุทุฑ) ุฌูู ูโุฑูุฏ. ุฏุฑ ูพุงุฒูโูุง ุณุฎุชุ ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุงูฺฏูุฑุชู ุฏุฑ ููุงู ุณุทุฑูุง ุงูู ฺฏุฑ ฺฉูุฏ ู ูุฒุงุฑุงู ุจุงุฑ ุนูุจโฺฏุฑุฏ ฺฉูุฏ.
ุงูุง ุจุง ูุนุงู ฺฉุฑุฏู MRVุ ุงูฺฏูุฑุชู ููุฑุงู ุจู ุณุฑุงุบ ุฎุงููโูุง ูโุฑูุฏ ฺฉู "ููุท ฑ ุง ฒ ฺฏุฒูู" ุฏุงุฑูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุฏุฑุฎุช ุฌุณุชุฌู ุจุณุงุฑ ุจุงุฑฺฉโุชุฑ ุดูุฏ ู ุชุนุฏุงุฏ ุนูุจโฺฏุฑุฏูุง (Backtracks) ุจู ุดุฏุช ฺฉุงูุด ุงุจุฏ. ุนููุงู MRV ุจุดุชุฑู ุชุงุซุฑ ุฑุง ุฏุฑ ุญู ูพุงุฒูโูุง ุฏุดูุงุฑ ุฏุงุดุช.

**ฒ. ุชุงุซุฑ LCV (ุงูุชุฎุงุจ ููุฏุงุฑ):**
ุงู ุฑูุด ุณุฑุจุงุฑ ูุญุงุณุจุงุช ุฏุงุฑุฏ (ฺูู ุจุงุฏ ููุงุฏุฑ ุฑุง ูุฑุชุจ ฺฉูุฏ). ุฏุฑ ูพุงุฒูโูุง ุณุงุฏูุ ฺฏุงู ุจุงุนุซ ฺฉูุฏ ุดุฏู ุฑููุฏ ูโุดูุฏ. ุงูุง ุฏุฑ ูพุงุฒูโูุง ุฎู ูพฺุฏูุ LCV ฺฉูฺฉ ูโฺฉูุฏ ฺฉู ุงูฺฏูุฑุชู ุฏุฑ ุงููู ุชูุงุดโูุงุ ุงุนุฏุงุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ููุฌุฑ ุจู ุจูโุจุณุช ููโุดููุฏ. ุฏุฑ ูุงูุน LCV ุชุนุฏุงุฏ ุนูุจโฺฏุฑุฏูุง ุฑุง ฺฉู ูโฺฉูุฏุ ุงูุง ูุฒููุงู ุฒูุงู ุงุฌุฑุง ุฑุง ุฏุฑ ูพุงุฒูโูุง ฺฉูฺฺฉ ฺฉุงูุด ููโุฏูุฏ.

**ณ. ุชุงุซุฑ Forward Checking:**
ุงู ุฑูุด ุจุณุงุฑ ููุซุฑ ุจูุฏ. ุจุฏูู ุขูุ ุงูฺฏูุฑุชู ููฺฉู ุงุณุช ฑฐ ูุฑุญูู ุฌูู ุจุฑูุฏ ุฏุฑ ุญุงู ฺฉู ุฏุฑ ูุฑุญูู ตุ ฺฉ ุฎุงูู ุฏุงูููโุงุด ุฎุงู ุดุฏู ู ูุง ุฎุจุฑ ูุฏุงุฑู.
ุจุง ูุนุงู ฺฉุฑุฏู Forward Checkingุ ุงูฺฏูุฑุชู ุจู ูุญุถ ุงูฺฉู ูโุจูุฏ ฺฉ ุงูุชุฎุงุจ ุจุงุนุซ ุฎุงู ุดุฏู ุฏุงููู ููุณุงูโุง ูโุดูุฏุ ููุงูโุฌุง ูุชููู ูโุดูุฏ (Prune) ู ูุณุฑ ุบูุท ุฑุง ุงุฏุงูู ููโุฏูุฏ. ุงู ฺฉุงุฑ "ุนูู ุดฺฉุณุช" ุฑุง ุจู ุดุฏุช ฺฉุงูุด ูโุฏูุฏ.

**ด. ุชุงุซุฑ AC-3:**
ุงุฌุฑุง AC-3 ูุจู ุงุฒ ุดุฑูุน ุฌุณุชุฌูุ ูุงููุฏ ุชูุฒฺฉุงุฑ ุงููู ุงุณุช. ุฏุฑ ุจุณุงุฑ ุงุฒ ุชุณุชโูุง ุฏุฏู ฺฉู AC-3 ุชูุงูุณุช ุชุนุฏุงุฏ ุฒุงุฏ ุงุฒ ุฎุงููโูุง ุฑุง ูุจู ุงุฒ ุงูฺฉู ุญุช ุฌุณุชุฌู ุดุฑูุน ุดูุฏุ ุญู ฺฉูุฏ (ุฎุงููโูุง ฺฉู ููุท ฺฉ ฺฉุงูุฏุฏุง ุฏุงุดุชูุฏ). ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ูุถุง ุญุงูุช ุงููู ุจุณุงุฑ ฺฉูฺฺฉุชุฑ ุดูุฏ.

---

## ถ. ูุชุฌูโฺฏุฑ

ุงู ูพุฑูฺู ูุดุงู ุฏุงุฏ ฺฉู ุญู ูุณุงุฆู CSP ุตุฑูุงู ุจู ูุฏุฑุช ูพุฑุฏุงุฒุด ุจุณุชฺฏ ูุฏุงุฑุฏุ ุจูฺฉู "ููุดููุฏุงูู ุนูู ฺฉุฑุฏู" ูููโุชุฑ ุงุณุช.
ุงุณุชูุงุฏู ุงุฒ ุนูุจโฺฏุฑุฏ ุณุงุฏู (Backtracking) ุจุฑุง ุณูุฏูฺฉููุง ฺฉูฺฺฉ ุฌูุงุจ ูโุฏูุฏุ ุงูุง ุจุง ุจุฒุฑฺฏ ุดุฏู ุงุจุนุงุฏ ุง ูพฺุฏู ุดุฏู ูุญุฏูุฏุชโูุง (ูุซู ููุงุญ ูุงูุชูุงุฑู)ุ ุจุฏูู ููุฑุณุชฺฉโูุง ูุซู MRV ู Forward Checking ุนููุงู ุญู ูุณุฆูู ุบุฑููฺฉู ุง ุจุณุงุฑ ุฒูุงูโุจุฑ ูโุดูุฏ.

ูพุงุฏูโุณุงุฒ ุงู ูพุฑูฺู ุจู ุตูุฑุช ุจุตุฑ ู ุชุนุงูู ุจู ูู ฺฉูฺฉ ฺฉุฑุฏ ุชุง ุฏููุงู ุฏุฑฺฉ ฺฉูู ฺุฑุง ู ฺฉุฌุง ุงูฺฏูุฑุชู ฺฏุฑ ูโฺฉูุฏ ู ฺุทูุฑ Forward Checking ูโุชูุงูุฏ ุดุงุฎูโูุง ุงุถุงู ุฏุฑุฎุช ุฌุณุชุฌู ุฑุง ูุฑุณ ฺฉูุฏ. ุชูุงู ุงูุฏุงู ุฎูุงุณุชู ุดุฏู ุฏุฑ ุชูุฑู (ูุฏูโุณุงุฒุ ูพุงุฏูโุณุงุฒ ููุฑุณุชฺฉโูุง ู ุชุญูู) ุฏุฑ ุงู ูพุฑูฺู ูพูุดุด ุฏุงุฏู ุดุฏ.

---

## ท. ุถูุงุฆู (ูุงูโูุง)

ูุณุช ูุงูโูุง ุงุตู ูพุฑูฺู ฺฉู ุฏุฑ ูพูุดู ุชุญูู ูุฑุงุฑ ุฏุงุฑูุฏ:

1.  `HomeworkPage.js`: ุตูุญู ุงุตู ุญู ุชูุฑู (ุณูุฏูฺฉู ถรถ ูุงูุชูุงุฑู).
2.  `AdvancedPage.js`: ุจุฎุด ุงูุชุงุฒ (ุชููุฏฺฉููุฏู ุณูุฏูฺฉู นรน ุงุณุชุงูุฏุงุฑุฏ).
3.  `algorithms/CSP.js`: ฺฉูุงุณ ูุฏูโุณุงุฒ ูุณุฆูู.
4.  `algorithms/Solver.js`: ููุชูุฑ ุฌุณุชุฌู Backtracking.
5.  `algorithms/Heuristics.js`: ฺฉุฏูุง ูุฑุจูุท ุจู MRV ู LCV.
6.  `algorithms/AC3.js`: ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู ุณุงุฒฺฏุงุฑ ฺฉูุงู.
7.  `data/jigsawMaps.js`: ุชุนุฑู ูุฎุชุตุงุช ููุงุญ ถฺฏุงูู ูุงูุชูุงุฑู.

